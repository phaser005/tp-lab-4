<div class="container">

    <form [formGroup]="especialistaForm" (ngSubmit)="enviar()">

        <div class="row">
            <div class="col-md-12 mb-5" align="center">
                <h2>Registro de Especialista</h2>
            </div>
        </div>

        <div class="row formulario">

            <div class="col-md-6 mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control" id="nombre" placeholder="Ingrese su nombre" formControlName="nombre">
                <small class="invalid" *ngIf="especialistaForm.controls.nombre.errors?.required && especialistaForm.controls.nombre.touched">Este campo no puede quedar vacío</small>
                <small class="invalid" *ngIf="especialistaForm.controls.nombre.errors?.pattern">
                    Los nombres no pueden contener letras
                </small>
            </div>

            <div class="col-md-6 mb-3">
                <label for="apellido" class="form-label">Apellido</label>
                <input type="text" class="form-control" id="apellido" placeholder="Ingrese su apellido" formControlName="apellido">
                <small class="invalid" *ngIf="especialistaForm.controls.apellido.errors?.required && especialistaForm.controls.apellido.touched">Este campo no puede quedar vacío</small>
                <small class="invalid" *ngIf="especialistaForm.controls.apellido.errors?.pattern">
                    Los apellidos no pueden contener letras
                </small>
            </div>

            <div class="col-md-6 mb-3">
                <label for="edad" class="form-label">Edad</label>
                <input type="number" class="form-control" id="edad" placeholder="Ingrese su edad" formControlName="edad">
                <small class="invalid" *ngIf="especialistaForm.controls.edad.errors?.min || especialistaForm.controls.edad.errors?.max && especialistaForm.controls.edad.touched ">Debe ser mayor de 18 años</small>
            </div>

            <div class="col-md-6 mb-3">
                <label for="dni" class="form-label">DNI</label>
                <input type="text" class="form-control" id="dni" placeholder="Ingrese su DNI" formControlName="dni">
                <small class="invalid" 
                *ngIf="especialistaForm.controls.dni.errors?.required && especialistaForm.controls.dni.touched">Este campo no puede quedar vacio
                </small>

                <small class="invalid" *ngIf="especialistaForm.controls.dni.errors?.minlength || especialistaForm.controls.dni.errors?.maxlength">El numero de DNI es demasiado corto o demasiado largo</small>
                <br>
                <small class="invalid" *ngIf="especialistaForm.controls.dni.errors?.pattern">
                El DNI no puede contener letras
                </small>
            </div>

            <div class="col-md-6 mb-3">
                <label for="especialidad" class="form-label">Especialidad</label>
                <select (change)="cambiarEspecialidad($event)" formControlName="especialidad" class="form-control">
                    <option value="">Elija su especialidad</option>
                    <option *ngFor="let especialidad of especialidades">{{especialidad.especialidad}}</option>
                 </select>
                
            </div>

            <div class="col-md-6 mb-3">
                <label for="especialidad" class="form-label"> Especialidad Seleccionada </label>
                <input type="text" class="form-control" id="especialidad" placeholder="Ingrese su especialidad si no se encuentra en la lista" formControlName="especialidad">
                <small class="invalid" 
                *ngIf="especialistaForm.controls.especialidad.errors?.required && especialistaForm.controls.especialidad.touched">Este campo no puede quedar vacio
                </small>
            </div>

            <div class="col-md-6 mb-6">
                <label for="imagen1" class="form-label">Imagen de perfil 1</label>
                <input type="file" class="form-control" id="imagen1" formControlName="imagen1" (change)=onFileSelected($event)>
            </div>

            <div class="col-md-3 mb-3">
                <label for="capchaValue" class="form-label">Captcha</label>
                <input type="text" class="form-control" readonly id="catpcha">
            </div>
            <div class="col-md-3 mb-3">
                <label for="capchaValue" class="form-label">Ingrese el capcha del lado izquierdo</label>
                <input type="text" class="form-control" id="textInput">
            </div>

            <div class="col-md-6 mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" placeholder="Ingrese su Email - Ej: ejemplo@gmail.com" formControlName="email">
                <small class="invalid" 
                *ngIf="especialistaForm.controls.email.errors?.required && especialistaForm.controls.email.touched">Este campo no puede quedar vacio
                </small>
                <small class="invalid" 
                *ngIf="especialistaForm.controls.email.errors?.email">El email tiene un formato incorrecto.
                </small>
            </div>

            <div class="col-md-6 mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password" class="form-control" id="password" placeholder="Ingrese su contraseña" formControlName="password">
                <small class="invalid" 
                *ngIf="especialistaForm.controls.password.errors?.required && especialistaForm.controls.password.touched">Este campo no puede quedar vacio
                </small>
                <small class="invalid" *ngIf="especialistaForm.controls.password.errors?.minlength">La contraseña debe tener como minimo 6 caracteres</small>
            </div>
            
            
        </div>

      <div class="row">
        <div class="col-md-12 d-grid gap-2">
            <br>
          <button type="submit" class="btn btn-primary btn-block" [disabled]="!especialistaForm.valid">
            Aceptar
          </button>
        </div>
        <div>
            <br>
        </div>
      </div>

    </form>
    
  </div>